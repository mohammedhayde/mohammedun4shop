(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{3664:function(e,r,t){Promise.resolve().then(t.bind(t,3598))},7907:function(e,r,t){"use strict";var s=t(5313);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},3598:function(e,r,t){"use strict";t.r(r);var s=t(7437),a=t(2265),l=t(1305),n=t(7907);r.default=()=>{let[e,r]=(0,a.useState)({name:"",address:"",city:"",phoneNumber:""}),[t,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(!1),d=(0,n.useRouter)();(0,a.useEffect)(()=>{let e=localStorage.getItem("cart");try{let r=e?JSON.parse(e):{},t=Object.values(r);console.log("Parsed cart items:",t),i(Array.isArray(t)?t:[])}catch(e){console.error("Error parsing cart from localStorage",e),i([])}},[]);let u=t=>{let{name:s,value:a}=t.target;r({...e,[s]:a})},m=async r=>{r.preventDefault(),c(!0);let s=t.map(e=>({productId:e.id,quantity:e.quantity,productName:e.title}));console.log("Order details to be submitted:",s),console.log("Submitting order with details:",{name:e.name,address:e.address,city:e.city,phoneNumber:e.phoneNumber,orderDetails:s});let a=await fetch("http://localhost:5187/api/Orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,address:e.address,city:e.city,phoneNumber:e.phoneNumber,orderDetails:s})});a.ok?(alert("شكراً لطلبك! تم إكمال الشراء بنجاح."),localStorage.removeItem("cart"),i([]),setTimeout(()=>{c(!1),d.push("/")},1e3)):(console.error("Error placing order:",await a.json()),alert("حدث خطأ أثناء إكمال الشراء. يرجى المحاولة مرة أخرى."),c(!1))};return(0,s.jsx)(l.Z,{children:(0,s.jsxs)("div",{className:"container mx-auto p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"إتمام الشراء"}),(0,s.jsxs)("form",{onSubmit:m,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"معلومات الشحن"}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("label",{className:"block",children:"الاسم:"}),(0,s.jsx)("input",{type:"text",name:"name",value:e.name,onChange:u,className:"border rounded p-2 w-full",required:!0})]}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("label",{className:"block",children:"العنوان:"}),(0,s.jsx)("input",{type:"text",name:"address",value:e.address,onChange:u,className:"border rounded p-2 w-full",required:!0})]}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("label",{className:"block",children:"المدينة:"}),(0,s.jsx)("input",{type:"text",name:"city",value:e.city,onChange:u,className:"border rounded p-2 w-full",required:!0})]}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("label",{className:"block",children:"رقم الهاتف:"}),(0,s.jsx)("input",{type:"text",name:"phoneNumber",value:e.phoneNumber,onChange:u,className:"border rounded p-2 w-full",required:!0})]})]}),(0,s.jsx)("button",{type:"submit",className:"mt-4 p-2 bg-blue-500 text-white rounded",disabled:o,children:o?"جاري إتمام الشراء...":"إتمام الشراء"})]}),o&&(0,s.jsx)("div",{className:"mt-4 text-center text-green-500",children:"جاري معالجة طلبك..."})]})})}},1305:function(e,r,t){"use strict";var s=t(7437);t(2265);var a=t(6039);r.Z=e=>{let{children:r}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)(a.default,{}),r]})}},6039:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return j}});var s=t(7437),a=t(2265),l=t(765),n=t(7874),i=t(6995),o=t(4065),c=t(1213),d=t(3984),u=t(8792),m=t(6093),p=t(9303),x=t.n(p),f=t(2273);function h(){let e=(0,m._)(['<>\n                <li class="group" id="product#1430691" role="option" aria-selected="false" dir="rtl">\n                <a href="','"\n                   class="flex items-center justify-between bg-white px-4 py-3 hover:bg-gray-300 focus:bg-gray-300 md:p-4">\n                  <div class="flex flex-1 items-center justify-between">\n                    <div class="flex flex-col items-center">\n                      <span class="mb-1 w-16 rounded-full bg-green-100 p-1 text-center text-xs font-medium text-green-700">خصم ','%</span>\n                      <span class="font-bold text-primary">',' د.ع</span>\n                    </div>\n                    <span class="line-clamp-3 flex-3/4">','</span>\n                  </div>\n                  <div class="relative ms-3 flex h-18 w-18 items-center overflow-hidden rounded-xl border border-gray-400">\n                    <img alt="','" \n                         loading="lazy" \n                         width="59.4px" \n                         height="59.4px" \n                         decoding="async" \n                         data-nimg="1" \n                         sizes="59.4px" \n                         srcset="','" \n                         src="','"\n                         style="color: transparent; object-fit: contain; width: 59.4px; height: 59.4px;">\n                  </div>\n                </a>\n            </li>\n            \n              \n              \n\n                </>']);return h=function(){return e},e}t(783);let b=x()("BHHXVEKGFH","59327a638018a363eace1923b8cb9c81");var g=()=>{let e=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(!e.current)return;let r=(0,f.H)({container:e.current,placeholder:"ما الذي تبحث عنه...",getSources(e){let{query:r}=e;return[{sourceId:"products",getItems:()=>b.initIndex("shopify_products").search(r).then(e=>(console.log(e.hits),e.hits)),templates:{item(e){let{item:r,html:t}=e;return t(h(),r.handle,r.discount,r.price,r.title,r.alt,r.imageSrcset,r.image)}}}]}});return()=>{r.destroy()}},[]),(0,s.jsx)("div",{ref:e,style:{position:"relative",zIndex:1e3,flexGrow:1},className:"autocomplete-container"})};function j(){let[e,r]=(0,a.useState)(""),t=[{icon:(0,s.jsx)(l.Z,{}),label:"",ariaLabel:"Cart",role:"button"},{icon:(0,s.jsx)(n.Z,{}),label:"",ariaLabel:"Wishlist",role:"button"},{label:"Log in",icon:(0,s.jsx)(i.Z,{}),ariaLabel:"Log in",role:"login"}];return(0,s.jsx)("header",{className:"flex justify-center w-full py-2 px-4 lg:py-5 lg:px-6 bg-white border-b border-neutral-200",children:(0,s.jsxs)("div",{className:"flex flex-wrap lg:flex-nowrap items-center flex-row-reverse justify-end h-full max-w-[1536px] w-full",children:[(0,s.jsx)(u.default,{href:"/Home","aria-label":"SF Homepage",className:"inline-block ml-4 focus-visible:outline focus-visible:outline-offset focus-visible:rounded-sm shrink-0",children:(0,s.jsxs)("picture",{children:[(0,s.jsx)("source",{srcSet:"https://storage.googleapis.com/sfui_docs_artifacts_bucket_public/production/vsf_logo.svg",media:"(min-width: 768px)"}),(0,s.jsx)("img",{src:"https://storage.googleapis.com/sfui_docs_artifacts_bucket_public/production/vsf_logo_sign.svg",alt:"Sf Logo",className:"w-8 h-8 md:h-6 md:w-[176px] lg:w-[12.5rem] lg:h-[1.75rem]"})]})}),(0,s.jsx)(o.Z,{"aria-label":"Open categories",className:"hidden lg:flex lg:ml-4",variant:"tertiary",slotSuffix:(0,s.jsx)(c.Z,{className:"hidden lg:block"}),children:(0,s.jsx)("span",{className:"hidden lg:flex whitespace-nowrap",children:"الأقسام"})}),(0,s.jsx)("form",{role:"search",className:"flex flex-[100%] order-last lg:order-3 mt-2 lg:mt-0 pb-2 lg:pb-0",onSubmit:r=>{r.preventDefault(),alert("Successfully found 10 results for ".concat(e))},children:(0,s.jsx)(g,{})}),(0,s.jsx)(o.Z,{"aria-label":"Open categories",className:"lg:hidden order-first lg:order-last ml-4",square:!0,variant:"tertiary",children:(0,s.jsx)(d.Z,{})}),(0,s.jsx)("nav",{className:"flex-1 flex justify-start lg:order-last lg:mr-4",children:(0,s.jsx)("div",{className:"flex flex-row flex-nowrap",children:t.map(e=>(0,s.jsx)(o.Z,{className:"ml-2 -mr-0.5 rounded-md text-primary-700 hover:bg-primary-100 active:bg-primary-200 hover:text-primary-600 active:text-primary-700","aria-label":e.ariaLabel,variant:"tertiary",square:!0,slotPrefix:e.icon,children:"login"===e.role&&(0,s.jsx)("p",{className:"hidden xl:inline-flex whitespace-nowrap",children:e.label})},e.ariaLabel))})})]})})}}},function(e){e.O(0,[675,971,69,744],function(){return e(e.s=3664)}),_N_E=e.O()}]);